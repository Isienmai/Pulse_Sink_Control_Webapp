<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>rust-wasm Tutorial</title>
        <link rel="stylesheet" href="./style.css"/>
        <script type="module">
            // Import Webasm functions
            import init, {parse_sources, parse_sinks} from "./pkg/pulse_sink_control_webapp.js";

            document.getElementById('parse_pactl_list_output').addEventListener('click', () => {
                init().then(() => {
                    parse_sources(document.getElementById('sources_list').value)
                    parse_sinks(document.getElementById('sinks_list').value)
                });
            });
        </script>
    </head>
    <body>
        <main class="pactl_wasm_webapp">
            <div class="pactl_webapp_input">
                <textarea rows="5" cols="250" type="text" placeholder="pactl list sources" id="sources_list"></textarea>
                <textarea rows="5" cols="250" type="text" placeholder="pactl list sinks" id="sinks_list"></textarea>
                <textarea rows="5" cols="250" type="text" placeholder="pactl list modules" id="modules_list"></textarea>
                <input type="button" value="Parse pactl list Output" id="parse_pactl_list_output" />
            </div>
            <div class="pactl_webapp_main">
                <ul class="pactl_webapp_main_available_sources" id="sources_display">
                </ul>
                <ul class="pactl_webapp_main_available_sinks" id="sinks_display">
                </ul>
                <div class="pactl_webapp_main_active_links">
                </div>
            </div>
            <div class="wactl_webapp_output">
                <textarea rows="5" cols="250" type="text" placeholder="pactl commands" id="sources_list"></textarea>
            </div>
        </main>
    </body>
</html>